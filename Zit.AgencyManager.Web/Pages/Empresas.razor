@page "/Empresas"
@inject EmpresaAPI empresaAPI

@inject TitleService TitleService

<PageTitle>Empresas</PageTitle>

@if (empresas != null)
{
    <MudGrid>
        @foreach (var empresa in empresas)
        {
            <MudItem xs="3">
                <CardEmpresa Empresa="empresa" />
            </MudItem>
        }
    </MudGrid>
}

@code
{

    private ICollection<EmpresaResponse>? empresas;

    protected override async Task OnInitializedAsync()
    {
        TitleService.SetTitle("Empresas Cadastradas");

        empresas = await empresaAPI.GetEmpresasAsync();       
    }
}
