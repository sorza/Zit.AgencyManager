@page "/agencias"
@inject AgenciaAPI agenciaAPI
@inject TitleService TitleService

<PageTitle>Agências</PageTitle>

@if(agencias != null)
{
    <MudGrid>
        @foreach (var agencia in agencias)
    {
        <MudItem xs="3">
            <CardAgencia Agencia="agencia" />
        </MudItem>
    }
    </MudGrid>
}

@code {

    private int tamanho = 8;
    private int totalItens;
    private int totalPaginas;
    private ICollection<AgenciaResponse>? agencias;
    private ICollection<AgenciaResponse>? agenciasPorPagina;

    protected override async Task OnInitializedAsync()
    {
        TitleService.SetTitle("Minhas agências");
        agencias = await agenciaAPI.GetAgenciasAsync();          
    }
}
